(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{443:function(s,t,a){s.exports=a.p+"assets/img/vpx_codec_vp9_dx.1dc40e7b.png"},602:function(s,t,a){s.exports=a.p+"assets/img/get_vpx.6ecc0eb0.png"},603:function(s,t,a){s.exports=a.p+"assets/img/VpxInterface.84606de2.png"},604:function(s,t,a){s.exports=a.p+"assets/img/vpx_codec_iface_t.a7d594b6.png"},605:function(s,t,a){s.exports=a.p+"assets/img/vpx_codec_iface.7511358f.png"},606:function(s,t,a){s.exports=a.p+"assets/img/vpx_codec_vp8_dx.78058223.png"},607:function(s,t,a){s.exports=a.p+"assets/img/CODEC_INTERFACE.a74efdb0.png"},608:function(s,t,a){s.exports=a.p+"assets/img/vpx_codec_dec_init.b9d0dedf.png"},609:function(s,t,a){s.exports=a.p+"assets/img/vpx_codec_dec_init_ver.a40eeb15.png"},610:function(s,t,a){s.exports=a.p+"assets/img/vpx_video_reader_read_frame.fdd2666f.png"},611:function(s,t,a){s.exports=a.p+"assets/img/vpx_video_reader_get_frame.5f208f1b.png"},612:function(s,t,a){s.exports=a.p+"assets/img/vpx_codec_decode.ee19b79e.png"},613:function(s,t,a){s.exports=a.p+"assets/img/vpx_codec_get_frame.f8ed6791.png"},972:function(s,t,a){"use strict";a.r(t);var e=a(4),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n *  Copyright (c) 2010 The WebM project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree. An additional intellectual property rights grant can be found\n *  in the file PATENTS.  All contributing project authors may\n *  be found in the AUTHORS file in the root of the source tree.\n */")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("h1",{attrs:{id:"å¼€å¤´è‡ªå¸¦çš„è¯´æ˜ä¹¦"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å¤´è‡ªå¸¦çš„è¯´æ˜ä¹¦"}},[s._v("#")]),s._v(" å¼€å¤´è‡ªå¸¦çš„è¯´æ˜ä¹¦")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Simple Decoder")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ==============")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// This is an example of a simple decoder loop. It takes an input file")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// containing the compressed data (in IVF format), passes it through the")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// decoder, and writes the decompressed frames to disk. Other decoder")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// examples build upon this one.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("p",[s._v("è¿™ä¸ªæ¡ˆä¾‹çš„åŠŸèƒ½æ˜¯è¯»å–ä¸€ä¸ªIVFæ ¼å¼çš„è¾“å…¥æ–‡ä»¶ï¼Œè§£ç ä¹‹åæŠŠå¸§å†™åˆ°ç£ç›˜ä¸Šã€‚")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// The details of the IVF format have been elided from this example for")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// simplicity of presentation, as IVF files will not generally be used by")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// your application. In general, an IVF file consists of a file header,")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// followed by a variable number of frames. Each frame consists of a frame")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// header followed by a variable length payload. The length of the payload")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// is specified in the first four bytes of the frame header. The payload is")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// the raw compressed data.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("p",[s._v("IVFæ ¼å¼çš„è¯¦æƒ…ä¸æ˜¯æœ¬ç¤ºä¾‹çš„é‡ç‚¹ã€‚")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Standard Includes")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// -----------------")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// For decoders, you only have to include `vpx_decoder.h` and then any")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// header files for the specific codecs you use. In this case, we're using")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// vp8.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("ä¸ºäº†è°ƒç”¨è§£ç å™¨ï¼Œéœ€è¦å¼•å…¥"),e("code",[s._v("vpx_decoder.h")]),s._v("ã€‚")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Initializing The Codec")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ----------------------")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// The libvpx decoder is initialized by the call to vpx_codec_dec_init().")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Determining the codec interface to use is handled by VpxVideoReader and the")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// functions prefixed with vpx_video_reader_. Discussion of those functions is")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// beyond the scope of this example, but the main gist is to open the input file")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// and parse just enough of it to determine if it's a VPx file and which VPx")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// codec is contained within the file.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Note the NULL pointer passed to vpx_codec_dec_init(). We do that in this")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// example because we want the algorithm to determine the stream configuration")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// (width/height) and allocate memory automatically.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("p",[s._v("åˆå§‹åŒ–è§£ç å™¨çš„å‡½æ•°æ˜¯"),e("code",[s._v("vpx_codec_dec_init()")]),s._v("ã€‚")]),s._v(" "),e("p",[s._v("ä½¿ç”¨å“ªä¸ªè§£ç å™¨æ¥å£æ˜¯åœ¨"),e("code",[s._v("VpxVideoReader")]),s._v("å’Œ"),e("code",[s._v("vpx_video_reader_")]),s._v("å¼€å¤´çš„å‡ ä¸ªå‡½æ•°é‡Œé¢åˆ¤æ–­çš„ã€‚å…·ä½“æƒ…å†µä¸åœ¨æœ¬ç¤ºä¾‹çš„è®¨è®ºèŒƒå›´å†…ï¼Œæœ¬ç¤ºä¾‹ä¸­è§£ç å™¨ä¿¡æ¯å°±åŒ…å«åœ¨æ–‡ä»¶é‡Œé¢ã€‚")]),s._v(" "),e("p",[s._v("NOTEï¼šç¤ºä¾‹ä¸­"),e("code",[s._v("vpx_codec_dec_init()")]),s._v("çš„ç¬¬ä¸‰é¡¹æ˜¯è§£ç å™¨é…ç½®ï¼Œæœ¬æ¡ˆä¾‹ä¸­ä¼ å…¥çš„æ˜¯ç©ºæŒ‡é’ˆï¼Œè¿™æ ·å¯ä»¥è®©å®ƒè‡ªå·±åˆ¤åˆé€‚çš„é…ç½®å’Œåˆ†é…å†…å­˜ç©ºé—´ã€‚")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Decoding A Frame")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ----------------")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Once the frame has been read into memory, it is decoded using the")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `vpx_codec_decode` function. The call takes a pointer to the data")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// (`frame`) and the length of the data (`frame_size`). No application data")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// is associated with the frame in this example, so the `user_priv`")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// parameter is NULL. The `deadline` parameter is left at zero for this")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// example. This parameter is generally only used when doing adaptive post")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// processing.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("p",[s._v("å½“å¸§è¢«è¯»å…¥å†…å­˜ä¹‹åï¼Œè°ƒç”¨"),e("code",[s._v("vpx_codec_decode")]),s._v("å°±å¯ä»¥å¯¹å…¶è¿›è¡Œè§£ç ã€‚")]),s._v(" "),e("p",[s._v("è¿™ä¸ª"),e("code",[s._v("vpx_codec_decode")]),s._v("æ¥å—ä¸€ä¸ªå¸§æ•°æ®æŒ‡é’ˆ("),e("code",[s._v("frame")]),s._v(")å’Œå¸§å°ºå¯¸("),e("code",[s._v("frame_size")]),s._v(")ï¼Œå…¶ä»–ä¸€äº›å¯æœ‰å¯æ— çš„è°ƒèŠ‚å‚æ•°("),e("code",[s._v("user_priv")]),s._v(")ä¸åœ¨æœ¬æ¡ˆä¾‹çš„è®¨è®ºèŒƒå›´ï¼Œç›´æ¥è®¾ç©ºã€‚æœ¬æ¡ˆä¾‹ä¸­çš„"),e("code",[s._v("deadline")]),s._v("å‚æ•°è®¾ä¸º0ï¼Œè¿™ä¸ªå‚æ•°ä¸»è¦ç”¨äºè‡ªé€‚åº”ã€‚")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Codecs may produce a variable number of output frames for every call to")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `vpx_codec_decode`. These frames are retrieved by the")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `vpx_codec_get_frame` iterator function. The iterator variable `iter` is")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// initialized to NULL each time `vpx_codec_decode` is called.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `vpx_codec_get_frame` is called in a loop, returning a pointer to a")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// decoded image or NULL to indicate the end of list.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[s._v("æ¯æ¬¡è°ƒç”¨"),e("code",[s._v("vpx_codec_decode")]),s._v("éƒ½å¯èƒ½äº§ç”Ÿå¤šä¸ªè§£ç å¸§ï¼Œè°ƒç”¨"),e("code",[s._v("vpx_codec_get_frame")]),s._v("è·å–è¿™äº›å¸§ã€‚")]),s._v(" "),e("p",[e("code",[s._v("vpx_codec_get_frame")]),s._v("çš„ç¬¬äºŒä¸ªå‚æ•°æ¥å—ä¸€ä¸ªè¿­ä»£å™¨æŒ‡é’ˆï¼Œ"),e("code",[s._v("vpx_codec_get_frame")]),s._v("ä¼šä»¥è¿­ä»£çš„æ–¹å¼è¾“å‡ºè§£ç åçš„å¸§ã€‚")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Processing The Decoded Data")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ---------------------------")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// In this example, we simply write the encoded data to disk. It is")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// important to honor the image's `stride` values.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("æœ¬ç¤ºä¾‹ä¸­ï¼Œè§£ç ä¹‹åçš„æ•°æ®ç›´æ¥å†™è¿›æ–‡ä»¶é‡Œã€‚")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Cleanup")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// -------")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// The `vpx_codec_destroy` call frees any memory allocated by the codec.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Error Handling")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// --------------")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// This example does not special case any error return codes. If there was")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// an error, a descriptive message is printed and the program exits. With")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// few exceptions, vpx_codec functions return an enumerated error status,")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// with the value `0` indicating success.")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("p",[e("code",[s._v("vpx_codec_destroy")]),s._v("ç”¨äºæ¸…ç†ã€‚")]),s._v(" "),e("p",[s._v("æœ¬ç¤ºä¾‹ä¸­æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„éœ€è¦å¤„ç†çš„é”™è¯¯ã€‚")]),s._v(" "),e("h2",{attrs:{id:"æ­£æ–‡å¼€å¤´"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ­£æ–‡å¼€å¤´"}},[s._v("#")]),s._v(" æ­£æ–‡å¼€å¤´")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("#"),e("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("<stdio.h>")])]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("#"),e("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("<stdlib.h>")])]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("#"),e("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("<string.h>")])]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("#"),e("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vpx/vpx_decoder.h"')])]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("#"),e("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"../tools_common.h"')])]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("#"),e("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"../video_reader.h"')])]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token macro property"}},[s._v("#"),e("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./vpx_config.h"')])]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("p",[s._v("ä¸€å †"),e("code",[s._v("include")]),s._v("ä¸ç”¨å¤šè®²ã€‚")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("exec_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("usage_exit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("fprintf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("stderr")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Usage: %s <infile> <outfile>\\n"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" exec_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("exit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("EXIT_FAILURE"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("è¿™æ˜¯ä¸€ä¸ªè¾“å‡ºé”™è¯¯å¹¶é€€å‡ºç¨‹åºçš„å‡½æ•°ï¼Œç”¨åœ¨æ¥ä¸‹æ¥ä¼šç»å¸¸è§åˆ°çš„"),e("code",[s._v("die")]),s._v("å‡½æ•°é‡Œé¢ï¼Œå°±æ˜¯è¾“å‡ºä¸€äº›é”™è¯¯è€Œå·²ï¼Œä¸ç”¨å¤ªåœ¨æ„ã€‚")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" argc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("argv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("ä¸»å‡½æ•°å¼€å§‹ã€‚")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[s._v("  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" frame_cnt "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  FILE "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("outfile "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  vpx_codec_ctx_t codec"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  VpxVideoReader "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("reader "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" VpxInterface "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("decoder "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" VpxVideoInfo "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("info "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  exec_name "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" argv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("argc "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("die")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Invalid number of arguments."')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("p",[s._v("ä¸€å †åé¢è¦ç”¨åˆ°çš„å˜é‡å®šä¹‰ã€‚")]),s._v(" "),e("h2",{attrs:{id:"æ‰“å¼€å¾…è§£ç çš„æ–‡ä»¶"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ‰“å¼€å¾…è§£ç çš„æ–‡ä»¶"}},[s._v("#")]),s._v(" æ‰“å¼€å¾…è§£ç çš„æ–‡ä»¶")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[s._v("  reader "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vpx_video_reader_open")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("argv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("reader"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("die")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Failed to open %s for reading."')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" argv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("outfile "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("fopen")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("argv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wb"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("die")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Failed to open %s for writing."')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" argv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("æ‰“å¼€æ–‡ä»¶ï¼Œç”Ÿæˆ"),e("code",[s._v("VpxVideoReader")]),s._v("ã€‚è¿™ä¸ªè¾“å…¥å‚æ•°"),e("code",[s._v("argv[1]")]),s._v("æ˜¯è¦å¾…è§£ç æ–‡ä»¶çš„æ–‡ä»¶åï¼Œ"),e("code",[s._v("argv[1]")]),s._v("æ˜¯æ”¾è§£ç åæ•°æ®çš„æ–‡ä»¶çš„æ–‡ä»¶åã€‚")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[s._v("  info "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vpx_video_reader_get_info")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("reader"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("è¿™ä¸ªå‡½æ•°çš„å®šä¹‰é‡Œé¢åªæœ‰ä¸€å¥è¯ï¼š"),e("code",[s._v("return &reader->info")]),s._v("ğŸ˜‚ã€‚")]),s._v(" "),e("h2",{attrs:{id:"è·å–æ‰€éœ€çš„è§£ç å™¨"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#è·å–æ‰€éœ€çš„è§£ç å™¨"}},[s._v("#")]),s._v(" è·å–æ‰€éœ€çš„è§£ç å™¨")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[s._v("  decoder "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("get_vpx_decoder_by_fourcc")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("info"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("codec_fourcc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("decoder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("die")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Unknown input codec."')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("printf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Using %s\\n"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vpx_codec_iface_name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("decoder"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("codec_interface")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("è¿™ä¸ªå‡½æ•°é¡ºç€ä¸€æŸ¥ï¼Œå‘ç°ä¸‹å›¾ï¼š")]),s._v(" "),e("p",[e("img",{attrs:{src:a(602),alt:""}})]),s._v(" "),e("p",[e("code",[s._v("get_vpx_decoder_by_fourcc")]),s._v("è°ƒç”¨äº†"),e("code",[s._v("get_vpx_decoder_by_index")]),s._v("ï¼Œè€Œ"),e("code",[s._v("get_vpx_decoder_by_index")]),s._v("ç›´æ¥ä»ä¸€ä¸ªåˆ—è¡¨é‡Œé€‰å‡ºäº†ä¸€ä¸ªè§£ç å™¨ã€‚ä»è¿™åˆ—è¡¨çœ‹ï¼Œè¿™å°±æ˜¯åœ¨é€‰vp8è¿˜æ˜¯vp9ã€‚")]),s._v(" "),e("p",[s._v("è¿”å›å€¼éƒ½æ˜¯"),e("code",[s._v("VpxInterface")]),s._v("ç±»å‹ï¼Œè¯´æ˜vp8å’Œvp9çš„decoderéƒ½æ˜¯ç»§æ‰¿çš„åŒä¸€ä¸ªæ¥å£ç±»ã€‚é‚£çœ‹çœ‹è¿™ä¸ª"),e("code",[s._v("VpxInterface")]),s._v("åˆæ˜¯ä»€ä¹ˆï¼š")]),s._v(" "),e("p",[e("img",{attrs:{src:a(603),alt:""}})]),s._v(" "),e("p",[s._v("å—¯ï¼Œä¸Šé¢é‚£ä¸ª"),e("code",[s._v("vpx_decoders[]")]),s._v("æ•°ç»„å’Œè¿™ä¸ªç±»å®šä¹‰æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚è¿™"),e("code",[s._v("VpxInterface")]),s._v("é‡Œé¢å‰ä¸¤ä¸ªä¸€çœ‹å°±æ˜¯ä¸¤ä¸ªMetadataï¼Œæœ€åè¿™ä¸ª"),e("code",[s._v("vpx_codec_iface_t *(*const codec_interface)()")]),s._v("åº”è¯¥å°±æ˜¯é‡ç‚¹ã€‚")]),s._v(" "),e("p",[s._v("å®šä¹‰çœ‹ç€æœ‰ç‚¹å¤æ‚ï¼Œè¿™å°±æ˜¯ä¸ªå‡½æ•°æŒ‡é’ˆã€‚å˜é‡åæ˜¯"),e("code",[s._v("codec_interface")]),s._v("ï¼Œæ¥å—è¿”å›å€¼æ˜¯"),e("code",[s._v("vpx_codec_iface_t *")]),s._v("ï¼Œæ— è¾“å…¥å‚æ•°çš„å‡½æ•°ã€‚")]),s._v(" "),e("p",[s._v("é‚£è¿™ä¸ª"),e("code",[s._v("vpx_codec_iface_t")]),s._v("åˆæ˜¯ä»€ä¹ˆï¼Ÿæ‰¾æ‰¾ï¼š")]),s._v(" "),e("p",[e("img",{attrs:{src:a(604),alt:""}})]),s._v(" "),e("p",[s._v("ä¸€ä¸ª"),e("code",[s._v("typedef")]),s._v("ğŸ˜‚ï¼Œå¥½å§ï¼Œå†æ‰¾è¿™ä¸ª"),e("code",[s._v("vpx_codec_iface")]),s._v("ï¼š")]),s._v(" "),e("p",[e("img",{attrs:{src:a(605),alt:""}})]),s._v(" "),e("p",[s._v("è¿™åº”è¯¥å°±æ˜¯vp8å’Œvp9çš„ç»Ÿä¸€æ¥å£äº†ã€‚è¿™é‡Œé¢è¿™äº›ç±»å‹éšä¾¿ç‚¹è¿›å»å‡ ä¸ªï¼Œå‘ç°å®ƒä»¬éƒ½æ˜¯åœ¨"),e("code",[s._v("vpx/internal/vpx_codec_internal.h")]),s._v("é‡Œé¢å®šä¹‰çš„å‡½æ•°æŒ‡é’ˆç±»å‹ã€‚å“‡ï¼Œç®€å•ç²—æš´ï¼Œç¡®å®ç§°å¾—ä¸Šæ˜¯â€œæ¥å£â€ã€‚")]),s._v(" "),e("p",[s._v("é‚£ä¹ˆå†å›å»çœ‹"),e("code",[s._v("vpx_decoders[]")]),s._v("æ•°ç»„é‡Œçš„å€¼ï¼Œ"),e("code",[s._v("codec_interface")]),s._v("å¯¹åº”çš„æ˜¯è¿™ä¸ª"),e("code",[s._v("vpx_codec_vp8_dx")]),s._v("å’Œ"),e("code",[s._v("vpx_codec_vp9_dx")]),s._v("ï¼Œæ˜¾ç„¶è¿™ä¸¤ä¸ªå°±æ˜¯è¿”å›å€¼æ˜¯"),e("code",[s._v("vpx_codec_iface_t *")]),s._v("ä¸”æ— è¾“å…¥å‚æ•°çš„å‡½æ•°ï¼Œä¹Ÿæ˜¯è§£ç å™¨çš„ä¸»è¦éƒ¨åˆ†ã€‚")]),s._v(" "),e("p",[s._v("é‚£çœ‹çœ‹è¿™ä¸ª"),e("code",[s._v("vpx_codec_vp8_dx")]),s._v("å’Œ"),e("code",[s._v("vpx_codec_vp9_dx")]),s._v("æ˜¯ä»€ä¹ˆï¼š")]),s._v(" "),e("p",[e("img",{attrs:{src:a(606),alt:""}}),s._v(" "),e("img",{attrs:{src:a(443),alt:""}})]),s._v(" "),e("p",[s._v("å“‡è¿™ä¸ªèµ‹å€¼ï¼Œæ˜¾ç„¶è¿™å°±æ˜¯åœ¨ç»™"),e("code",[s._v("vpx_codec_iface")]),s._v("é‡Œçš„å‡½æ•°æŒ‡é’ˆå˜é‡èµ‹å€¼ï¼Œé‚£è¢«èµ‹çš„è¿™äº›å€¼å°±æ˜¯vp8å’Œvp9è§£ç å™¨çš„å…·ä½“å®ç°äº†ï¼Œè®°ä¸‹æ¥ä»¥åæ…¢æ…¢çœ‹ã€‚")]),s._v(" "),e("p",[s._v("è¿˜è®°å¾—"),e("code",[s._v("vpx_codec_vp8_dx")]),s._v("å’Œ"),e("code",[s._v("vpx_codec_vp9_dx")]),s._v("çš„ç±»å‹å—ï¼Ÿå®ƒä»¬åº”è¯¥æ˜¯è¿”å›å€¼æ˜¯"),e("code",[s._v("vpx_codec_iface_t *")]),s._v("ä¸”æ— è¾“å…¥å‚æ•°çš„å‡½æ•°ï¼Œä½†è¿™é‡Œçœ‹æ€ä¹ˆåƒæ˜¯åœ¨ç»™"),e("code",[s._v("vpx_codec_iface_t")]),s._v("èµ‹å€¼ï¼Ÿæ³¨æ„åˆ°"),e("code",[s._v("vpx_codec_vp8_dx")]),s._v("å’Œ"),e("code",[s._v("vpx_codec_vp9_dx")]),s._v("éƒ½è¢«ä¸€ä¸ªå®"),e("code",[s._v("CODEC_INTERFACE")]),s._v("åŒ…è£¹ç€ï¼Œé‚£çœ‹çœ‹è¿™ä¸ªå®æ˜¯ä»€ä¹ˆï¼š")]),s._v(" "),e("p",[e("img",{attrs:{src:a(607),alt:""}})]),s._v(" "),e("p",[s._v("å“‡ï¼Œç§’æ‡‚ï¼Œèµ‹å€¼ä¹‹åæ”¾è¿›å‡½æ•°é‡Œã€‚ä¸€ä¸ªå°trickè€Œå·²ï¼Œå’Œ"),e("RouterLink",{attrs:{to:"/WebRTC/pion-interceptor.html"}},[s._v("ã€Špion/interceptoræµ…æã€‹")]),s._v("é‡Œä»‹ç»çš„"),e("code",[s._v("RTCPReaderFunc")]),s._v("ä¹‹æµå·®ä¸å¤šçš„æƒ³æ³•ã€‚")],1),s._v(" "),e("h2",{attrs:{id:"åˆå§‹åŒ–è§£ç å™¨"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#åˆå§‹åŒ–è§£ç å™¨"}},[s._v("#")]),s._v(" åˆå§‹åŒ–è§£ç å™¨")]),s._v(" "),e("p",[s._v("å¥½äº†ï¼Œç»§ç»­çœ‹ç¤ºä¾‹çš„ä»£ç ï¼š")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[s._v("  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vpx_codec_dec_init")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("codec"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" decoder"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("codec_interface")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("die")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Failed to initialize decoder."')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("å¼€å¤´çš„è¯´æ˜é‡Œè®²è¿‡çš„åˆå§‹åŒ–æ“ä½œã€‚çœ‹ç€åƒä¸ªå‡½æ•°ï¼Œå…¶å®æ˜¯è¢«å¥—äº†ä¸ªå®çš„å‡½æ•°ï¼š")]),s._v(" "),e("p",[e("img",{attrs:{src:a(608),alt:""}})]),s._v(" "),e("p",[s._v("è¢«å¥—çš„å‡½æ•°æ˜¯è¿™ä¸ªï¼š")]),s._v(" "),e("p",[e("img",{attrs:{src:a(609),alt:""}})]),s._v(" "),e("p",[s._v("å¥—ä¸ªå®å°±æ˜¯æ›¿æ¢æœ€åä¸€ä¸ªå˜é‡ç”¨äºABIç‰ˆæœ¬æ£€æŸ¥ã€‚")]),s._v(" "),e("p",[s._v("åˆå§‹åŒ–å‡½æ•°çš„æ ¸å¿ƒå°±æ˜¯ç»™è¿™ä¸ªä¸Šä¸‹æ–‡å˜é‡"),e("code",[s._v("ctx")]),s._v("èµ‹äº†ä¸€å †å€¼ï¼Œè¿˜è°ƒç”¨äº†ä¼ è¿›æ¥çš„"),e("code",[s._v("iface")]),s._v("é‡Œé¢çš„"),e("code",[s._v("init")]),s._v("å‡½æ•°ï¼Œè¿™å°±æ˜¯"),e("code",[s._v("vpx_codec_iface")]),s._v("é‡Œçš„å‡½æ•°ä¹‹ä¸€ï¼Œå‰é¢ä»‹ç»è¿‡ï¼Œä¸ç”¨å¤šè®²ã€‚")]),s._v(" "),e("p",[s._v("è¿™ä¸ª"),e("code",[s._v("ctx")]),s._v("æ˜¯ä¼ è¿›æ¥çš„ç»“æ„ä½“æŒ‡é’ˆï¼Œæ‰€ä»¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ä¹‹åï¼Œåœ¨å‡½æ•°å¤–é¢ç”¨æˆ·å°±å¯ä»¥ç”¨èµ‹å¥½å€¼çš„"),e("code",[s._v("ctx")]),s._v("è¿›è¡Œå„ç§æ“ä½œäº†ã€‚")]),s._v(" "),e("h2",{attrs:{id:"è§£ç è¿‡ç¨‹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#è§£ç è¿‡ç¨‹"}},[s._v("#")]),s._v(" è§£ç è¿‡ç¨‹")]),s._v(" "),e("p",[s._v("ç»§ç»­çœ‹ç¤ºä¾‹ï¼š")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[s._v("  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vpx_video_reader_read_frame")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("reader"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("ä¸Šæ¥å°±æ˜¯ç›´æ¥ä¸€ä¸ª"),e("code",[s._v("while")]),s._v("å¾ªç¯ï¼Œè¿™ä¸ª"),e("code",[s._v("vpx_video_reader_read_frame")]),s._v("é•¿è¿™æ ·ï¼š")]),s._v(" "),e("p",[e("img",{attrs:{src:a(610),alt:""}})]),s._v(" "),e("p",[s._v("çœ‹æ¥å°±æ˜¯ä¸ªivfè¯»å–å™¨å•Šï¼Œçœ‹æ ·å­æ˜¯æ ¹æ®"),e("code",[s._v("reader")]),s._v("é‡Œçš„æ–‡ä»¶ä¿¡æ¯æŠŠæ–‡ä»¶æ•°æ®å†™è¿›"),e("code",[s._v("reader->buffer")]),s._v("é‡Œ")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[s._v("    vpx_codec_iter_t iter "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    vpx_image_t "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("img "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    size_t frame_size "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("unsigned")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("frame "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vpx_video_reader_get_frame")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("reader"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("frame_size"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[e("code",[s._v("while")]),s._v("å¾ªç¯é‡Œæ¯è½®æ¥ä¸€ä¸ª"),e("code",[s._v("vpx_video_reader_get_frame")]),s._v("ï¼Œè¿™ä¸ª"),e("code",[s._v("vpx_video_reader_get_frame")]),s._v("ä¹Ÿå¾ˆç®€å•ï¼š\n"),e("img",{attrs:{src:a(611),alt:""}})]),s._v(" "),e("p",[s._v("å°±ç›´æ¥è¿”å›"),e("code",[s._v("vpx_video_reader_read_frame")]),s._v("é‡Œå†™å…¥çš„"),e("code",[s._v("reader->buffer")]),s._v("ç„¶åæŠŠæ•°æ®é•¿åº¦ä¼ ç»™"),e("code",[s._v("frame_size")]),s._v("ã€‚çœ‹è¿™ä¸ª"),e("code",[s._v("frame")]),s._v("çš„ç±»å‹åº”è¯¥å°±æ˜¯ä¸ª"),e("code",[s._v("unsigned char")]),s._v("æ•°ç»„ï¼Œçœ‹æ¥è¿™ä¸ªlibvpxé‡Œçš„å‹ç¼©å¸§æ•°æ®æ²¡æœ‰ä¸“é—¨æŒ‡å®šæ•°æ®ç±»å‹ã€‚")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[s._v("    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vpx_codec_decode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("codec"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" frame"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("unsigned")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("frame_size"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("die_codec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("codec"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Failed to decode frame."')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[e("code",[s._v("vpx_video_reader_read_frame")]),s._v("ä¹‹åå°±æ˜¯"),e("code",[s._v("vpx_codec_decode")]),s._v("å¯¹å¸§æ•°æ®è¿›è¡Œè§£ç ã€‚è¿™ä¸ª"),e("code",[s._v("vpx_codec_decode")]),s._v("ä¾ç„¶å¾ˆçŸ­ï¼š")]),s._v(" "),e("p",[e("img",{attrs:{src:a(612),alt:""}})]),s._v(" "),e("p",[s._v("å…¶å®å°±æ˜¯åœ¨è°ƒç”¨"),e("code",[s._v("vpx_codec_iface")]),s._v("æ¥å£é‡Œå®šä¹‰å¥½çš„è§£ç å‡½æ•°"),e("code",[s._v("dec.decode")]),s._v("ã€‚")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[s._v("    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("img "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vpx_codec_get_frame")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("codec"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("iter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vpx_img_write")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("img"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" outfile"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("frame_cnt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("æœ€åå°±æ˜¯ä¸€ä¸ª"),e("code",[s._v("vpx_codec_get_frame")]),s._v("è·å–åˆ°è§£ç å‡ºæ¥çš„å¸§ã€‚"),e("s",[s._v("è¿™ä¸ªä¼ å…¥çš„"),e("code",[s._v("iter")]),s._v("åœ¨å‰åéƒ½æ²¡æœ‰ç”¨åˆ°ï¼Œçœ‹æ¥åªæ˜¯ä¸ºäº†æä¾›ä¸€ç‚¹å†…å­˜ç©ºé—´ï¼ˆæ—¢ç„¶å¤–é¢ç”¨ä¸åˆ°ä¸ºä»€ä¹ˆè¿˜è¦è¿™æ ·å®šä¹‰ï¼Ÿåº”è¯¥æ˜¯æœ‰åˆ«çš„ç”¨å¤„å§ï¼‰")]),s._v("ã€‚æ³¨æ„åˆ°æœ‰ä¸ªä¼ å…¥çš„è¿­ä»£å™¨å‚æ•°"),e("code",[s._v("iter")]),s._v("åªä¼ å…¥äº†"),e("code",[s._v("vpx_codec_get_frame")]),s._v("å´æ²¡æœ‰å…¶ä»–ä»»ä½•æ“ä½œã€‚è¿™ä¸ªå‚æ•°æ˜¯å†å²é—ç•™é—®é¢˜ï¼Œå…·ä½“å¯ä»¥çœ‹"),e("code",[s._v("decoder_get_frame")]),s._v("å‡½æ•°é‡Œé¢æœ‰ä¸€æ®µæ³¨é‡Šçš„è§£é‡Šï¼Œ"),e("RouterLink",{attrs:{to:"/è§†é¢‘ç¼–è§£ç /libvpx-insight.html"}},[s._v("ã€Š"),e("code",[s._v("libvpx")]),s._v("å†æ·±å…¥ä¸€ç‚¹ã€‹")]),s._v("çš„è§£æé‡Œä¹Ÿæœ‰ã€‚")],1),s._v(" "),e("p",[s._v("è¿™ä¸ª"),e("code",[s._v("vpx_codec_get_frame")]),s._v("ä¾æ—§å¾ˆçŸ­ï¼š")]),s._v(" "),e("p",[e("img",{attrs:{src:a(613),alt:""}})]),s._v(" "),e("p",[s._v("å’Œ"),e("code",[s._v("vpx_codec_decode")]),s._v("å·®ä¸å¤šï¼Œå°è£…äº†ä¸€ä¸‹"),e("code",[s._v("vpx_codec_iface")]),s._v("æ¥å£é‡Œå®šä¹‰å¥½çš„"),e("code",[s._v("dec.get_frame")]),s._v("ã€‚")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[s._v("  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("è§£ç è¿‡ç¨‹ç»“æŸã€‚")]),s._v(" "),e("h2",{attrs:{id:"ä¸€äº›æ”¶å°¾æ“ä½œ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€äº›æ”¶å°¾æ“ä½œ"}},[s._v("#")]),s._v(" ä¸€äº›æ”¶å°¾æ“ä½œ")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[s._v("  "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("printf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Processed %d frames.\\n"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" frame_cnt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vpx_codec_destroy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("codec"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("die_codec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("codec"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Failed to destroy codec"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("å…³é—­è§£ç å™¨ã€‚")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[s._v("  "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("printf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Play: ffplay -f rawvideo -pix_fmt yuv420p -s %dx%d %s\\n"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n         info"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("frame_width"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" info"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("frame_height"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" argv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vpx_video_reader_close")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("reader"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("fclose")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("outfile"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("å…³é—­æ–‡ä»¶è¯»å–å™¨ã€‚")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[s._v("  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" EXIT_SUCCESS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("é€€å‡ºã€‚")]),s._v(" "),e("h2",{attrs:{id:"å®Œ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å®Œ"}},[s._v("#")]),s._v(" å®Œ")]),s._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("ä¸»å‡½æ•°ç»“æŸ")])])}),[],!1,null,null,null);t.default=n.exports}}]);