(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{750:function(t,s,e){"use strict";e.r(s);var a=e(4),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("blockquote",[e("p",[t._v("在 Kubernetes 系统中，Kubernetes 对象 是持久化的实体。Kubernetes 使用这些实体去表示整个集群的状态。特别地，它们描述了如下信息：")]),t._v(" "),e("ul",[e("li",[t._v("哪些容器化应用在运行（以及在哪个 Node 上）")]),t._v(" "),e("li",[t._v("可以被应用使用的资源")]),t._v(" "),e("li",[t._v("关于应用运行时表现的策略，比如重启策略、升级策略，以及容错策略")])]),t._v(" "),e("p",[t._v("Kubernetes 对象是 “目标性记录” —— 一旦创建对象，Kubernetes 系统将持续工作以确保对象存在。通过创建对象，本质上是在告知 Kubernetes 系统，所需要的集群工作负载看起来是什么样子的，这就是 Kubernetes 集群的"),e("strong",[t._v("期望状态（Desired State）")]),t._v("。")])]),t._v(" "),e("p",[t._v("k8s有四种基本对象：")]),t._v(" "),e("ul",[e("li",[e("RouterLink",{attrs:{to:"/Kubernetes/Kubernetes对象/Pod.html"}},[t._v("Pod")])],1),t._v(" "),e("li",[e("RouterLink",{attrs:{to:"/Kubernetes/Kubernetes对象/Service.html"}},[t._v("Service")])],1),t._v(" "),e("li",[e("RouterLink",{attrs:{to:"/Kubernetes/Kubernetes对象/Volume.html"}},[t._v("Volume")])],1),t._v(" "),e("li",[e("RouterLink",{attrs:{to:"/Kubernetes/Kubernetes对象/Namespace.html"}},[t._v("Namespace")])],1)]),t._v(" "),e("p",[t._v("在这些基本对象之上，k8s还包含大量的被称作控制器（Controller）的高级抽象，用于提供额外的功能和方便使用的特性，包括：")]),t._v(" "),e("ul",[e("li",[t._v("Deployment")]),t._v(" "),e("li",[t._v("DaemonSet")]),t._v(" "),e("li",[t._v("StatefulSet")]),t._v(" "),e("li",[t._v("ReplicaSet")]),t._v(" "),e("li",[t._v("Job")])]),t._v(" "),e("p",[t._v("k8s对象有三种属性：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("metadata")]),t._v("（对象元数据）：帮助识别对象唯一性的附加数据")]),t._v(" "),e("li",[e("code",[t._v("spec")]),t._v("（对象规约）：由用户定义，表示这个对象的"),e("strong",[t._v("期望状态（Desired State）")])]),t._v(" "),e("li",[e("code",[t._v("status")]),t._v("（对象状态）：由k8s在运行时给出，表示这个对象的"),e("strong",[t._v("实际状态（Actual State）")])])]),t._v(" "),e("p",[t._v("其中，"),e("code",[t._v("metadata")]),t._v("、"),e("code",[t._v("spec")]),t._v("这两种属性由用户指定，写在一个yaml或json文件中，使用"),e("code",[t._v("kubectl apply -f <对象定义文件名>")]),t._v("创建对象。")]),t._v(" "),e("p",[t._v("在使用文件定义对象时，除上述"),e("code",[t._v("metadata")]),t._v("和"),e("code",[t._v("spec")]),t._v("字段外，还需要：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("apiVersion")]),t._v("：告诉k8s对象要使用的k8s api版本，不同的版本所支持的k8s对象功能和属性定义有所不同，与k8s对象抽象逻辑无关。")]),t._v(" "),e("li",[e("code",[t._v("kind")]),t._v("：指定对象的类型")])]),t._v(" "),e("p",[t._v("例如一个典型Deployment对象的yaml格式对象定义文件"),e("code",[t._v("application/deployment.yaml")]),t._v("如下：")]),t._v(" "),e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" apps/v1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Deployment\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" nginx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("deployment\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("selector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("matchLabels")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" nginx\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("replicas")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" nginx\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containers")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" nginx\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" nginx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("1.14.2\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containerPort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br")])]),e("p",[t._v("输入指令"),e("code",[t._v("kubectl apply -f application/deployment.yaml")]),t._v("即可创建这个Deployment。")])])}),[],!1,null,null,null);s.default=n.exports}}]);