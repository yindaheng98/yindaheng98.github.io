(window.webpackJsonp=window.webpackJsonp||[]).push([[291],{965:function(s,t,a){"use strict";a.r(t);var n=a(4),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("终于要接近最深处了，这是"),a("code",[s._v("decode_partition")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("decode_partition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("TileWorkerData "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" VP9Decoder "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" pbi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                             "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" mi_row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" mi_col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" BLOCK_SIZE bsize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                             "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" n4x4_l2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  VP9_COMMON "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" cm "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("pbi"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("common"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" n8x8_l2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" n4x4_l2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" num_8x8_wh "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" n8x8_l2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" hbs "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" num_8x8_wh "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  PARTITION_TYPE partition"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  BLOCK_SIZE subsize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" has_rows "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mi_row "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" hbs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" cm"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("mi_rows"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" has_cols "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mi_col "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" hbs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" cm"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("mi_cols"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  MACROBLOCKD "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" xd "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("xd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mi_row "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" cm"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("mi_rows "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" mi_col "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" cm"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("mi_cols"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  partition "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("read_partition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" has_rows"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" has_cols"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" n8x8_l2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  subsize "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" subsize_lookup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("partition"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("bsize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// get_subsize(bsize, partition);")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("hbs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// calculate bmode block dimensions (log 2)")]),s._v("\n    xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("bmode_blocks_wl "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("partition "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" PARTITION_VERT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("bmode_blocks_hl "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("partition "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" PARTITION_HORZ"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("decode_block")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pbi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" subsize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("switch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("partition"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" PARTITION_NONE"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("decode_block")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pbi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" subsize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" n4x4_l2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" n4x4_l2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" PARTITION_HORZ"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("decode_block")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pbi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" subsize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" n4x4_l2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" n8x8_l2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("has_rows"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("decode_block")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pbi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_row "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" hbs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" subsize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" n4x4_l2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                       n8x8_l2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" PARTITION_VERT"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("decode_block")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pbi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" subsize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" n8x8_l2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" n4x4_l2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("has_cols"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("decode_block")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pbi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_col "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" hbs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" subsize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" n8x8_l2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                       n4x4_l2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" PARTITION_SPLIT"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("decode_partition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pbi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" subsize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" n8x8_l2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("decode_partition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pbi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_col "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" hbs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" subsize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" n8x8_l2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("decode_partition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pbi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_row "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" hbs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" subsize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" n8x8_l2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("decode_partition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pbi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_row "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" hbs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_col "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" hbs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" subsize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                         n8x8_l2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("assert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Invalid partition type"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// update partition context")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bsize "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" BLOCK_8X8 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bsize "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" BLOCK_8X8 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" partition "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" PARTITION_SPLIT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dec_update_partition_context")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" subsize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" num_8x8_wh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br")])]),a("p",[s._v("可以看见，很短， 核心部分就是一个"),a("code",[s._v("switch")]),s._v("下套4个条件，里面有递归的"),a("code",[s._v("decode_partition")]),s._v("和一个"),a("code",[s._v("decode_block")]),s._v("函数。")]),s._v(" "),a("p",[s._v("这个递归的条件"),a("code",[s._v("PARTITION_SPLIT")]),s._v("很明显就是把区域再分四块进行解码，对应编码器里可变大小编码块的知识。")]),s._v(" "),a("p",[s._v("所以再往下一层就是这个"),a("code",[s._v("decode_block")]),s._v("了：")]),s._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("decode_block")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("TileWorkerData "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" VP9Decoder "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" pbi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" mi_row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                         "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" mi_col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" BLOCK_SIZE bsize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" bwl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" bhl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  VP9_COMMON "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" cm "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("pbi"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("common"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" less8x8 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" bsize "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" BLOCK_8X8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" bw "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bwl "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" bh "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bhl "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" x_mis "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("VPXMIN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" cm"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("mi_cols "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" mi_col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" y_mis "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("VPXMIN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" cm"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("mi_rows "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" mi_row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  vpx_reader "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("r "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("bit_reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  MACROBLOCKD "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" xd "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("xd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  MODE_INFO "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("mi "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("set_offsets")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" xd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" bsize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" bw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" bh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" x_mis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                              y_mis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" bwl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" bhl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bsize "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" BLOCK_8X8 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cm"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("subsampling_x "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" cm"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("subsampling_y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" BLOCK_SIZE uv_subsize "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n        ss_size_lookup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("bsize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cm"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("subsampling_x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("cm"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("subsampling_y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("uv_subsize "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" BLOCK_INVALID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vpx_internal_error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("error_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" VPX_CODEC_CORRUPT_FRAME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                         "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Invalid block size."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vp9_read_mode_info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pbi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" x_mis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" y_mis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mi"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("skip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dec_reset_skip_context")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("xd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("is_inter_block")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" plane"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("plane "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" plane "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" MAX_MB_PLANE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("plane"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("struct")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("macroblockd_plane")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" pd "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("plane"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("plane"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" TX_SIZE tx_size "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" plane "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get_uv_tx_size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" mi"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("tx_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" num_4x4_w "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("n4_w"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" num_4x4_h "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("n4_h"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" step "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" tx_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" max_blocks_wide "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n          num_4x4_w "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("mb_to_right_edge "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n                           "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n                           "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("mb_to_right_edge "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" pd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("subsampling_x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" max_blocks_high "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n          num_4x4_h "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("mb_to_bottom_edge "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n                           "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n                           "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("mb_to_bottom_edge "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" pd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("subsampling_y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n      xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("max_blocks_wide "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("mb_to_right_edge "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" max_blocks_wide"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("max_blocks_high "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("mb_to_bottom_edge "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" max_blocks_high"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("row "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" row "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" max_blocks_high"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" row "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" step"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" col "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" max_blocks_wide"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" col "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" step"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("predict_and_reconstruct_intra_block")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" plane"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                                              tx_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Prediction")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dec_build_inter_predictors_sb")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pbi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" xd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Reconstruction")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("mi"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("skip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" eobtotal "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" plane"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("plane "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" plane "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" MAX_MB_PLANE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("plane"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("struct")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("macroblockd_plane")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" pd "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("plane"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("plane"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" TX_SIZE tx_size "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" plane "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get_uv_tx_size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" mi"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("tx_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" num_4x4_w "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("n4_w"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" num_4x4_h "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("n4_h"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" step "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" tx_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" max_blocks_wide "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n            num_4x4_w "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("mb_to_right_edge "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("mb_to_right_edge "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" pd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("subsampling_x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" max_blocks_high "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n            num_4x4_h "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("mb_to_bottom_edge "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("mb_to_bottom_edge "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" pd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("subsampling_y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("max_blocks_wide "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("mb_to_right_edge "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" max_blocks_wide"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("max_blocks_high "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("mb_to_bottom_edge "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" max_blocks_high"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("row "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" row "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" max_blocks_high"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" row "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" step"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("col "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" col "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" max_blocks_wide"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" col "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" step"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            eobtotal "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reconstruct_inter_block")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("twd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" plane"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" tx_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("less8x8 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" eobtotal "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" mi"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("skip "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// skip loopfilter")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  xd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("corrupted "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vpx_reader_has_error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cm"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("lf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("filter_level"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vp9_build_mask")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mi_col"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" bw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" bh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br")])])])}),[],!1,null,null,null);t.default=r.exports}}]);